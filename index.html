<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fazzercize Randomizer</title>
  <style>
    body {
      padding: 1rem;
      box-sizing: border-box;
      font-family: sans-serif;
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      color: #f2f2f2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    @media (max-width: 600px) {
      .rep-box {
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
      }
      .box {
      transition: background 0.3s ease, color 0.3s ease;
        font-size: 1.4rem;
        min-width: auto;
        width: 90%;
      }
      button {
      /* Generate button - optimized */
        padding: 1.5rem 2rem;
        font-size: 1.2rem;
      }
    }
    h1 {
      margin-bottom: 2rem;
    }
    .card {
      background: #2b2b2b;
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      width: 100%;
      max-width: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .box {
      font-size: 1.8rem;
      margin: 0.5rem 0;
      padding: 1rem 2rem;
      border: 2px solid;
      border-radius: 12px;
      min-width: 300px;
      text-align: center;
    }
    #exercise-name {
      background: white;
      color: black;
      border-color: white;
      font-weight: bold;
    }
    .rep-box-container {
      display: flex;
      gap: 10px;
      margin: 1rem;
    }
    .rep-box {
      font-size: 2rem;
      font-weight: bold;
      border: 2px solid #999;
      border-radius: 10px;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffffff, #e6e6e6);
      color: black;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    .unit-label {
      color: white;
      margin-top: -10px;
      text-align: center;
      font-size: 1.8rem;
    }
    #exercise-advanced {
      color: yellow;
      border-color: yellow;
      white-space: pre-line;
      margin-top: 2rem;
    }
    button {
      background: #28a745;
      color: white;
      border: none;
      padding: 1.2rem 2rem;
      font-size: 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.1s ease;
      /* Removed box-shadow for a flatter design */
      
      margin-top: 2rem;
      width: 100%;
      max-width: 300px;
    }
    button:active {
      background: #218838;
      transform: scale(0.95);
    }
    .fade-in {
      animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <h1>Fazzercize Randomizer</h1>
  <div class="card">
    <div id="exercise-name" class="box fade-in" aria-live="polite">Press the button to start!</div>
    <div class="rep-box-container">
      <div id="rep-digit-1" class="rep-box">-</div>
      <div id="rep-digit-2" class="rep-box">-</div>
    </div>
    <div class="unit-label" id="rep-unit"></div>
    <div id="exercise-advanced" class="box"></div>
    <button id="generate-btn">GO</button>
  </div>

  <script>
    const exercises = [
      { name: "Ankle Taps", reps: "5-15", unit: "Reps", advanced: "Add 10", side: true },
      { name: "Bicycle Kicks", reps: "5-15", unit: "Reps", advanced: "Add 10", side: true },
      { name: "Burpees", reps: "3-15", unit: "Reps", advanced: "Chest to ground, and jump at top" },
      { name: "Calf Raises", reps: "8-15", unit: "Reps", advanced: "Do for each leg separately" },
      { name: "Crunches", reps: "8-15", unit: "Reps", advanced: "Add 5" },
      { name: "Curtsy Lunges", reps: "8-15", unit: "Reps", advanced: "Add 10", side: true },
      { name: "Fast High Knees", reps: "15/20/25/30/35", unit: "Seconds", advanced: "Add 10s" },
      { name: "Flutter Kicks", reps: "15/20/25/30/40", unit: "Seconds", advanced: "Add 10s" },
      { name: "Frog Squats", reps: "8-15", unit: "Reps", advanced: "Add 10" },
      { name: "Glute Bridges with leg extension", reps: "5-15", unit: "Reps", advanced: "Keep knees squeezed together" },
      { name: "Gorilla Press", reps: "10-20", unit: "Reps", advanced: "Add 10" },
      { name: "Hollow Hold", reps: "10-25", unit: "Seconds", advanced: "Flutter your arms" },
      { name: "Kick Sits", reps: "4-10", unit: "Reps", advanced: "Do them without complaining", side: true },
      { name: "Leg Lowers", reps: "5-15", unit: "Reps", advanced: "Add 5" },
      { name: "Mountain Climbers", reps: "8-25", unit: "Reps", advanced: "Crossbody Mountain Climbers", side: true },
      { name: "Plank", reps: "30/40/50", unit: "Seconds", advanced: "Add Plank", side: true },
      { name: "Plank Swivels", reps: "4-12", unit: "Reps", advanced: "Add 5", side: true },
      { name: "Press Ups", reps: "10-25", unit: "Reps", advanced: "Lift hands off ground each time" },
      { name: "Reverse Crunch", reps: "8-15", unit: "Reps", advanced: "Add a torso twist at the top" },
      { name: "Russian Twist", reps: "5-15", unit: "Reps", advanced: "Feet lifted off ground, add 5", side: true },
      { name: "Shuttle Run or Lap", reps: "1-2", unit: "Reps", advanced: "Pressup at each cone or corner" },
      { name: "Side Plank", reps: "20/25/30/35/40", unit: "Seconds", advanced: "Lower and raise hips", side: true },
      { name: "Shoulder Taps", reps: "10-20", unit: "Reps", advanced: "Add 10", side: true },
      { name: "Skaters", reps: "5-12", unit: "Reps", advanced: "Add 10", side: true },
      { name: "Squat Hold or Wall Sit", reps: "30/35/40/45/50/60", unit: "Seconds", advanced: "Raise and lower heels" },
      { name: "Squats", reps: "10-40", unit: "Reps", advanced: "Jump Squats instead" },
      { name: "Star Jumps", reps: "15-25", unit: "Reps", advanced: "Explosive Jacks instead" },
      { name: "Thread the Needle", reps: "5-12", unit: "Reps", advanced: "Do from Side Plank", side: true },
      { name: "Tricep Dips", reps: "10-20", unit: "Reps", advanced: "Diamond Press Ups instead" },
      { name: "Tuck Jumps", reps: "5-12", unit: "Reps", advanced: "Add 10" },
      { name: "Yoga Planks", reps: "8-15", unit: "Reps", advanced: "Add 5", side: true }
    ];

    function padNumber(n) {
      return n.toString().padStart(2, '0');
    }

    function animateDigits(targetNumber, unit, exercise) {
      const digit1 = document.getElementById("rep-digit-1");
      const digit2 = document.getElementById("rep-digit-2");
      const unitLabel = document.getElementById("rep-unit");
      let i = 0;
      const spin = setInterval(() => {
        digit1.textContent = Math.floor(Math.random() * 10);
        digit2.textContent = Math.floor(Math.random() * 10);
        i++;
        if (i >= 10) {
          clearInterval(spin);
          const padded = padNumber(targetNumber);
          digit1.textContent = padded[0];
          digit2.textContent = padded[1];
          unitLabel.textContent = (unit === 's' ? 'Seconds' : 'Reps') + (exercise.side ? ' (each side)' : '');
        }
      }, 50);
    }

    function generateExercise() {
      const exercise = exercises[Math.floor(Math.random() * exercises.length)];
      let repsText;
      if (exercise.reps.includes('/')) {
        const options = exercise.reps.split('/');
        repsText = options[Math.floor(Math.random() * options.length)];
      } else if (exercise.reps.includes('-')) {
        const [min, max] = exercise.reps.split('-').map(val => parseInt(val));
        repsText = Math.floor(Math.random() * (max - min + 1)) + min;
      } else {
        repsText = exercise.reps;
      }
      const unit = exercise.unit === "Seconds" ? 's' : 'reps';
      const numOnly = parseInt(repsText);

      const nameBox = document.getElementById("exercise-name");
      nameBox.classList.remove("fade-in");
      void nameBox.offsetWidth; // force reflow
      nameBox.classList.add("fade-in");

      document.getElementById("exercise-name").textContent = exercise.name;
      document.getElementById("exercise-advanced").textContent = `Advanced Option:\n${exercise.advanced || "None"}`;

      if (isNaN(numOnly)) {
        document.getElementById("rep-digit-1").textContent = '-';
        document.getElementById("rep-digit-2").textContent = '-';
        document.getElementById("rep-unit").textContent = exercise.unit + (exercise.side ? ' (each side)' : '');
      } else {
        animateDigits(numOnly, unit, exercise);
      }
    }

    document.getElementById("generate-btn").addEventListener("click", generateExercise);
  </script>
</body>
</html>
